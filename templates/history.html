<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prediction History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)), url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Segoe UI', sans-serif;
        }

body {
  min-height: 100vh;
padding-top: 70px;
padding-bottom: 50px;
}

/* Navigation */
 nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: white;
  color: rgb(8, 8, 8);
  padding: 12px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 700;
  z-index: 1000;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* optional for depth effect */
}

  nav .logo {
    font-size: 1.5rem;
  }
nav ul {
  list-style: none;
  display: flex;
  gap: 29px;
  margin: 0;
  padding: 0;
}

nav ul li a {
  color: rgb(26, 25, 25);
  font-weight: 700;
  font-size: 17px;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 6px;
  transition: all 0.3s ease;
  position: relative;
  z-index: 1;
  overflow: hidden;
}

nav ul li a::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: #e6f4dd;
  z-index: -1;
  transition: transform 0.3s ease;
  transform: scale(0.8);
  opacity: 0;
  border-radius: 6px;
}

nav ul li a:hover {
  color: #3f6e28;
}

nav ul li a:hover::before {
  transform: scale(1);
  opacity: 1;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
        .container {
            margin-top: 50px;
            animation: fadeIn 1.2s ease-in-out;
        }

        .table {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            overflow: hidden;
        }

        h2 {
            color: #2c3e50;
            font-weight: bold;
            text-shadow: 1px 1px #e1e1e1;
        }

        .btn-update {
            background-color: #27ae60;
            color: white;
            transition: 0.3s ease;
        }

        .btn-update:hover {
            background-color: #2ecc71;
            transform: scale(1.05);
        }

        .btn-remove {
            background-color: #c0392b;
            color: white;
            transition: 0.3s ease;
        }

        .btn-remove:hover {
            background-color: #e74c3c;
            transform: scale(1.05);
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .profile-card {
            background-color: rgba(255, 255, 255, 0.9);
            border-left: 6px solid #27ae60;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .profile-card h5 {
            margin-bottom: 0.5rem;
        }

        .profile-card p {
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
        }
        .title-underline {
    font-size: 2.5rem;
    font-weight: bold;
    text-align: center;
    color: #2e7d32; /* nature green */
    position: relative;
    margin: 40px 0 20px;
    animation: fadeSlideIn 1s ease-out;
}

.title-underline::after {
    content: "";
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: -20px;
    width: 120px;
    height: 5px;
    background: linear-gradient(90deg, #66bb6a, #43a047);
    border-radius: 2px;
    animation: underlineSlide 1s ease-out;
}

@keyframes fadeSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes underlineSlide {
    from {
        width: 0;
        opacity: 0;
    }
    to {
        width: 120px;
        opacity: 1;
    }
}
    </style>
</head>
  <header>
<nav>
  <div class="logo" style="display: flex; align-items: center; gap: 10px;">
    <img src="https://t4.ftcdn.net/jpg/01/07/44/57/360_F_107445710_dXV8BQNOVDFHndZapai0ILx3JwfdkJ4E.jpg" 
         alt="AgriGuru Logo" 
         style="width: 40px; height: 40px; object-fit: contain;">
    <span>AgriGuru</span>
  </div>

  <ul>
    <li><a href="/dashboard">Home</a></li>
    <li><a href="/predict">Predict</a></li>
    <li><a href="/result">Result</a></li>
    <li><a href="/history">History</a></li>
    <li><a href="/blogs">Blogs</a></li>
    <li><a href="/logout">Logout</a></li>
  </ul>
</nav>
  </header>
<body>
    <div class="container">
        <h1 class="title-underline">üåæ Farmer & Crop Prediction History üå±</h1>
        <div class="profile-card mb-4">
            <h5>üë®‚Äçüåæ Farmer Details</h5>
            <p><strong>Name:</strong> {{ farmer.name }} {{ farmer.surname }}</p>
            <p><strong>Email:</strong> {{ farmer.email }}</p>
            <p><strong>Phone:</strong> {{ farmer.phone }}</p>
            <p><strong>Age:</strong> {{ farmer.age }}</p>
            <p><strong>Experience:</strong> {{ farmer.experience }} years</p>
            <p><strong>Acres:</strong> {{ farmer.acres }}</p>
            <p><strong>Last Crop:</strong> {{ farmer.last_crop }}</p>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-striped table-hover align-middle shadow">
                <thead class="table-success text-center">
    <tr>
        <th>#</th>
        <th>N</th>
        <th>P</th>
        <th>K</th>
        <th>Temp (¬∞C)</th>
        <th>Humidity (%)</th>
        <th>pH</th>
        <th>Rainfall (mm)</th>
        <th>Predicted Crop</th>
        <th>Timestamp</th>  <!-- New column -->
        <th>Actions</th>
    </tr>
</thead>
<tbody class="text-center">
    {% for item in predictions %}
    <tr>
        <td>{{ loop.index }}</td>
        {% for value in item.inputs %}
            <td>{{ value }}</td>
        {% endfor %}
        <td><strong>{{ item.crop }}</strong></td>
        <td>{{ item.timestamp }}</td>  <!-- Display timestamp -->
        <td>
            <form action="{{ url_for('update_prediction', index=loop.index0) }}" method="get" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-update">Update</button>
            </form>
            <form action="{{ url_for('remove_prediction', index=loop.index0) }}" method="post" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-remove" onclick="return confirm('Are you sure you want to remove this prediction?')">Remove</button>
            </form>
        </td>
    </tr>
    {% else %}
    <tr>
        <td colspan="11" class="text-muted">No predictions yet.</td> <!-- Adjust colspan to 11 -->
    </tr>
    {% endfor %}
</tbody>
            </table>
        </div>
        
    </div>
</body>
</html>
